<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head th:replace = "layouts :: header"></head>

<body>

<nav th:replace="layouts :: foo"></nav>

<div class="container my-5" style="alignment: center">
	<div class="card">
<h3>Main Dashboard</h3>
	<a th:text="${versionNumber}"></a>
<hr>
	<div class="row">
	<div class ="col-md-8">
	<div>
	<h4> Current Projects </h4>
		<table class="table table-hover table-bordered table-dark table-striped">
		    <thead>
		    <tr>
		        <th>Project Name</th>
		        <th>Project Stage</th>
		        <th>Project Description</th>
		    </tr>
		    </thead>
		    <tbody>
		        <tr th:each="aProject : ${projectlist}">
		            <td th:text="${aProject.name}"> </td>
		            <td th:text="${aProject.stage}"> </td>
		            <td th:text="${aProject.description}"> </td>
		        </tr>
		    </tbody>
		</table>
	</div>
	<divider></divider>
		<div>
	<h4> Current Employees </h4>
		<table class="table table-hover table-bordered table-dark table-striped">
		    <thead>
		    <tr>
		        <th>First Name</th>
		        <th>Last Name</th>
		        <th>Project Count</th>
		    </tr>
		    </thead>
		    <tbody>
		        <tr th:each="aEmployeeListProjectCnt : ${employeeListProjectsCnt}">
		            <td th:text="${aEmployeeListProjectCnt.firstName}"> </td>
		            <td th:text="${aEmployeeListProjectCnt.lastName}"> </td>
		            <td th:text="${aEmployeeListProjectCnt.projectCount}"> </td>
		        </tr>
		    </tbody>
		</table>
	</div>
	</div>
	<div class="col-md-4">
	<canvas id="myPieChart" height="50", width="50"> </canvas>
		<script>
			var chartData = "[[${projectStatusCnt}]]";
			chartData.decodeHtml()
		</script>
	</div>

	</div>
</div>
</div>

<script type="text/javascript" th:src="@{js/myChart.js}"></script>

</body>
</html>